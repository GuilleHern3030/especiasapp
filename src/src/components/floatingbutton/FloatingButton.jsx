import img from '../../assets/icons/whatsapp-icon2.webp'
import styles from './FloatingButton.module.css'
import useData from '../../hooks/useData'
import { ticketParams } from '../../hooks/useTables'

export default function FloatingButton() {

    const data = useData()

    const handleFloatingButton = () => {
        const params = ticketParams()
        const fullUrl = window.location.href
        const link = encodeURIComponent(fullUrl.split('?')[0] + params)
        
        if (params.length > 0)
            window.open(data.contactlink + "?text=Hola, quiero consultar por este producto: \n\r" + link, "_blank")
        else 
            window.open(data.contactlink, "_blank")
    }

    return <div className={styles.floatingbutton} onClick={handleFloatingButton}>
        <img src={img}/>
    </div>

}